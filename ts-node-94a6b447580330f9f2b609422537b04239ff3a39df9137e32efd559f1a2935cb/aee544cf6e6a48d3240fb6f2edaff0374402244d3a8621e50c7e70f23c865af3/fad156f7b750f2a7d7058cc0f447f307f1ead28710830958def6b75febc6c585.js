"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Validation {
    constructor() { }
    isOnlyNumbers(numeros) {
        let notNumber = /^[0-9]$/g;
        return notNumber.test(numeros);
    }
    isCepValid(cep) {
        let cepValid = /^\d{5}\-?\d{3}$/;
        return cepValid.test(cep);
    }
    isDateBrVallid(data) {
        let notValid = false;
        if (data && data.length === 10) {
            let dia = data.substring(0, 2);
            let mes = data.substring(3, 5);
            let ano = data.substring(6, 10);
            // Criando um objeto Date usando os valores ano, mes e dia.
            let novaData = new Date(parseInt(ano), (parseInt(mes) - 1), parseInt(dia));
            let mesmoDia = parseInt(dia, 10) == parseInt(novaData.getDate().toString());
            let mesmoMes = parseInt(mes, 10) == parseInt(novaData.getMonth().toString()) + 1;
            let mesmoAno = parseInt(ano) == parseInt(novaData.getFullYear().toString());
            if (!((mesmoDia) && (mesmoMes) && (mesmoAno))) {
                notValid = true;
            }
        }
        else {
            notValid = true;
        }
        return !notValid;
    }
    isHourMninuteValid(hora) {
        let notValid = false;
        if (hora && hora.length == 5) {
            let horas = hora.substring(0, 2);
            let minutos = hora.substring(3, 5);
            // Criando um objeto Date usando os valores ano, mes e dia.
            if (horas) {
                let horasNumber = parseInt(horas);
                if (horasNumber > 23) {
                    notValid = true;
                }
            }
            if (minutos) {
                let minutosNumber = parseInt(minutos);
                if (minutosNumber > 59) {
                    notValid = true;
                }
            }
        }
        else {
            notValid = true;
        }
        return !notValid;
    }
    isCpfValid(cpf) {
        let notValid = false;
        let cpfv = cpf;
        if (cpfv.length == 14 || cpfv.length == 11) {
            cpfv = cpfv.replace('.', '');
            cpfv = cpfv.replace('.', '');
            cpfv = cpfv.replace('-', '');
            let nonNumbers = /\D/;
            if (nonNumbers.test(cpfv)) {
                notValid = true;
            }
            else {
                if (cpfv == "00000000000" ||
                    cpfv == "11111111111" ||
                    cpfv == "22222222222" ||
                    cpfv == "33333333333" ||
                    cpfv == "44444444444" ||
                    cpfv == "55555555555" ||
                    cpfv == "66666666666" ||
                    cpfv == "77777777777" ||
                    cpfv == "88888888888" ||
                    cpfv == "99999999999") {
                    notValid = true;
                }
                let a = [];
                let b;
                let c = 11;
                for (let i = 0; i < 11; i++) {
                    a[i] = cpfv.charAt(i);
                    if (i < 9)
                        b += (a[i] * --c);
                }
                let x = b % 11;
                if ((x) < 2) {
                    a[9] = 0;
                }
                else {
                    a[9] = 11 - x;
                }
                b = 0;
                c = 11;
                for (let y = 0; y < 10; y++)
                    b += (a[y] * c--);
                if ((x = b % 11) < 2) {
                    a[10] = 0;
                }
                else {
                    a[10] = 11 - x;
                }
                if ((cpfv.charAt(9) != a[9]) || (cpfv.charAt(10) != a[10])) {
                    notValid = true;
                }
                else {
                    notValid = false;
                }
            }
        }
        else {
            notValid = true;
        }
        return !notValid;
    }
    isCnpjValid(cnpj) {
        var notValid = false;
        cnpj = cnpj.replace(/[^0-9]+/g, "");
        if (cnpj.length != 14) {
            notValid = true;
        }
        else if (cnpj == "00000000000000" || //Elimina CNPJs invalidos conhecidos 
            cnpj == "11111111111111" ||
            cnpj == "22222222222222" ||
            cnpj == "33333333333333" ||
            cnpj == "44444444444444" ||
            cnpj == "55555555555555" ||
            cnpj == "66666666666666" ||
            cnpj == "77777777777777" ||
            cnpj == "88888888888888" ||
            cnpj == "99999999999999") {
            notValid = true;
        }
        else {
            let tamanho = cnpj.length - 2;
            let numeros = cnpj.substring(0, tamanho);
            let digitos = cnpj.substring(tamanho);
            let soma = 0;
            let pos = tamanho - 7;
            for (let i = tamanho; i >= 1; i--) {
                soma += parseInt(numeros.charAt(tamanho - i)) * pos--;
                if (pos < 2)
                    pos = 9;
            }
            let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
            if (resultado != parseInt(digitos.charAt(0))) {
                notValid = true;
            }
            else {
                tamanho = tamanho + 1;
                numeros = cnpj.substring(0, tamanho);
                soma = 0;
                pos = tamanho - 7;
                for (let i = tamanho; i >= 1; i--) {
                    soma += parseInt(numeros.charAt(tamanho - i)) * pos--;
                    if (pos < 2)
                        pos = 9;
                }
                resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
                if (resultado != parseInt(digitos.charAt(1))) {
                    notValid = true;
                }
            }
        }
        return !notValid;
    }
    isEmailValid(email) {
        let validador = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return validador.test(email);
    }
}
exports.default = new Validation();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL3Zhci93d3cvUFNQLWJhY2tlbmQvc3JjL3V0aWwvVmFsaWRhdGlvbi50cyIsInNvdXJjZXMiOlsiL3Zhci93d3cvUFNQLWJhY2tlbmQvc3JjL3V0aWwvVmFsaWRhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBQ0ksZ0JBQWUsQ0FBQztJQUVULGFBQWEsQ0FBQyxPQUFlO1FBQ2hDLElBQUksU0FBUyxHQUFHLFVBQVUsQ0FBQztRQUMzQixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRU0sVUFBVSxDQUFDLEdBQVc7UUFDekIsSUFBSSxRQUFRLEdBQUcsaUJBQWlCLENBQUM7UUFDakMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLGNBQWMsQ0FBQyxJQUFZO1FBQzlCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUNyQixFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2hDLDJEQUEyRDtZQUMzRCxJQUFJLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDM0UsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLEdB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O2dCQUN4QixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFDTCxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFDckIsQ0FBQztJQUVNLFlBQVksQ0FBQyxLQUFhO1FBQzdCLElBQUksU0FBUyxHQUFHLGlFQUFpRSxDQUFDO1FBQ2xGLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDSjtBQUNELGtCQUFlLElBQUksVUFBVSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBWYWxpZGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHt9XG4gICAgXG4gICAgcHVibGljIGlzT25seU51bWJlcnMobnVtZXJvczogc3RyaW5nKTogYm9vbGVhbntcbiAgICAgICAgbGV0IG5vdE51bWJlciA9IC9eWzAtOV0kL2c7XG4gICAgICAgIHJldHVybiBub3ROdW1iZXIudGVzdChudW1lcm9zKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDZXBWYWxpZChjZXA6IHN0cmluZyk6IGJvb2xlYW57XG4gICAgICAgIGxldCBjZXBWYWxpZCA9IC9eXFxkezV9XFwtP1xcZHszfSQvO1xuICAgICAgICByZXR1cm4gY2VwVmFsaWQudGVzdChjZXApO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0RhdGVCclZhbGxpZChkYXRhOiBzdHJpbmcpOiBib29sZWFue1xuICAgICAgICBsZXQgbm90VmFsaWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPT09IDEwKSB7XG4gICAgICAgICAgICBsZXQgZGlhID0gZGF0YS5zdWJzdHJpbmcoMCwgMik7XG4gICAgICAgICAgICBsZXQgbWVzID0gZGF0YS5zdWJzdHJpbmcoMywgNSk7XG4gICAgICAgICAgICBsZXQgYW5vID0gZGF0YS5zdWJzdHJpbmcoNiwgMTApO1xuICAgICAgICAgICAgLy8gQ3JpYW5kbyB1bSBvYmpldG8gRGF0ZSB1c2FuZG8gb3MgdmFsb3JlcyBhbm8sIG1lcyBlIGRpYS5cbiAgICAgICAgICAgIGxldCBub3ZhRGF0YSA9IG5ldyBEYXRlKHBhcnNlSW50KGFubyksIChwYXJzZUludChtZXMpIC0gMSksIHBhcnNlSW50KGRpYSkpO1xuICAgICAgICAgICAgbGV0IG1lc21vRGlhID0gcGFyc2VJbnQoZGlhLCAxMCkgPT0gcGFyc2VJbnQobm92YURhdGEuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgbGV0IG1lc21vTWVzID0gcGFyc2VJbnQobWVzLCAxMCkgPT0gcGFyc2VJbnQobm92YURhdGEuZ2V0TW9udGgoKS50b1N0cmluZygpKSArIDE7XG4gICAgICAgICAgICBsZXQgbWVzbW9Bbm8gPSBwYXJzZUludChhbm8pID09IHBhcnNlSW50KG5vdmFEYXRhLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoISgobWVzbW9EaWEpICYmIChtZXNtb01lcykgJiYgKG1lc21vQW5vKSkpIHtub3RWYWxpZCA9IHRydWU7fVxuICAgICAgICB9ZWxzZXtub3RWYWxpZCA9IHRydWU7fVxuICAgICAgICByZXR1cm4gIW5vdFZhbGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0hvdXJNbmludXRlVmFsaWQoaG9yYTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBub3RWYWxpZCA9IGZhbHNlO1xuICAgICAgICBpZiAoaG9yYSAmJiBob3JhLmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICBsZXQgaG9yYXMgPSBob3JhLnN1YnN0cmluZygwLCAyKTtcbiAgICAgICAgICAgIGxldCBtaW51dG9zID0gaG9yYS5zdWJzdHJpbmcoMywgNSk7XG4gICAgICAgICAgICAvLyBDcmlhbmRvIHVtIG9iamV0byBEYXRlIHVzYW5kbyBvcyB2YWxvcmVzIGFubywgbWVzIGUgZGlhLlxuICAgICAgICAgICAgaWYoaG9yYXMpe1xuICAgICAgICAgICAgICAgIGxldCBob3Jhc051bWJlciA9ICBwYXJzZUludChob3Jhcyk7XG4gICAgICAgICAgICAgICAgaWYoaG9yYXNOdW1iZXIgPiAyMyl7bm90VmFsaWQgPSB0cnVlO31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG1pbnV0b3Mpe1xuICAgICAgICAgICAgICAgIGxldCBtaW51dG9zTnVtYmVyID0gIHBhcnNlSW50KG1pbnV0b3MpO1xuICAgICAgICAgICAgICAgIGlmKG1pbnV0b3NOdW1iZXIgPiA1OSl7bm90VmFsaWQgPSB0cnVlO31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7bm90VmFsaWQgPSB0cnVlO31cbiAgICAgICAgcmV0dXJuICFub3RWYWxpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDcGZWYWxpZChjcGY6IHN0cmluZyk6IGJvb2xlYW57XG4gICAgICAgIGxldCBub3RWYWxpZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY3BmdiAgPSBjcGY7XG4gICAgICAgIGlmKGNwZnYubGVuZ3RoID09IDE0IHx8IGNwZnYubGVuZ3RoID09IDExKXtcbiAgICAgICAgICAgIGNwZnYgPSBjcGZ2LnJlcGxhY2UoJy4nLCAnJyk7XG4gICAgICAgICAgICBjcGZ2ID0gY3Bmdi5yZXBsYWNlKCcuJywgJycpO1xuICAgICAgICAgICAgY3BmdiA9IGNwZnYucmVwbGFjZSgnLScsICcnKTtcbiAgICAgICAgICAgIGxldCBub25OdW1iZXJzID0gL1xcRC87XG4gICAgICAgICAgICBpZihub25OdW1iZXJzLnRlc3QoY3Bmdikpe25vdFZhbGlkID0gdHJ1ZTt9ZWxzZXtcbiAgICAgICAgICAgICAgICBpZiAoY3BmdiA9PSBcIjAwMDAwMDAwMDAwXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjExMTExMTExMTExXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjIyMjIyMjIyMjIyXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjMzMzMzMzMzMzMzXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjQ0NDQ0NDQ0NDQ0XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjU1NTU1NTU1NTU1XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjY2NjY2NjY2NjY2XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjc3Nzc3Nzc3Nzc3XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjg4ODg4ODg4ODg4XCIgfHxcbiAgICAgICAgICAgICAgICAgICAgY3BmdiA9PSBcIjk5OTk5OTk5OTk5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90VmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgYSA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCBiO1xuICAgICAgICAgICAgICAgIGxldCBjID0gMTE7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDExOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBhW2ldID0gY3Bmdi5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgOSkgYiArPSAoYVtpXSAqIC0tYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB4ID0gYiAlIDExO1xuICAgICAgICAgICAgICAgIGlmKCh4KSA8IDIpe1xuICAgICAgICAgICAgICAgICAgICBhWzldID0gMDtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYVs5XSA9IDExLXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICAgIGMgPSAxMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB5PTA7IHk8MTA7IHkrKykgYiArPSAoYVt5XSAqIGMtLSk7XG4gICAgICAgICAgICAgICAgaWYoKHggPSBiICUgMTEpIDwgMil7XG4gICAgICAgICAgICAgICAgICAgIGFbMTBdID0gMDtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgYVsxMF0gPSAxMS14O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZigoY3Bmdi5jaGFyQXQoOSkgIT0gYVs5XSkgfHwgKGNwZnYuY2hhckF0KDEwKSAhPSBhWzEwXSkpe1xuICAgICAgICAgICAgICAgICAgICBub3RWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG5vdFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSB7bm90VmFsaWQgPSB0cnVlO31cbiAgICAgICAgcmV0dXJuICFub3RWYWxpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDbnBqVmFsaWQoY25wajogc3RyaW5nKXtcbiAgICAgICAgdmFyIG5vdFZhbGlkID0gZmFsc2U7XG4gICAgICAgIGNucGogPSBjbnBqLnJlcGxhY2UoL1teMC05XSsvZywgXCJcIik7XG4gICAgICAgIGlmIChjbnBqLmxlbmd0aCAhPSAxNCl7XG4gICAgICAgICAgICAgICAgbm90VmFsaWQgPSB0cnVlO1xuICAgICAgICB9ZWxzZSBpZiAoY25waiA9PSBcIjAwMDAwMDAwMDAwMDAwXCIgfHwvL0VsaW1pbmEgQ05QSnMgaW52YWxpZG9zIGNvbmhlY2lkb3MgXG4gICAgICAgICAgICBjbnBqID09IFwiMTExMTExMTExMTExMTFcIiB8fCBcbiAgICAgICAgICAgIGNucGogPT0gXCIyMjIyMjIyMjIyMjIyMlwiIHx8IFxuICAgICAgICAgICAgY25waiA9PSBcIjMzMzMzMzMzMzMzMzMzXCIgfHwgXG4gICAgICAgICAgICBjbnBqID09IFwiNDQ0NDQ0NDQ0NDQ0NDRcIiB8fCBcbiAgICAgICAgICAgIGNucGogPT0gXCI1NTU1NTU1NTU1NTU1NVwiIHx8IFxuICAgICAgICAgICAgY25waiA9PSBcIjY2NjY2NjY2NjY2NjY2XCIgfHwgXG4gICAgICAgICAgICBjbnBqID09IFwiNzc3Nzc3Nzc3Nzc3NzdcIiB8fCBcbiAgICAgICAgICAgIGNucGogPT0gXCI4ODg4ODg4ODg4ODg4OFwiIHx8IFxuICAgICAgICAgICAgY25waiA9PSBcIjk5OTk5OTk5OTk5OTk5XCIpe1xuICAgICAgICAgICAgICAgIG5vdFZhbGlkID0gdHJ1ZTsgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgdGFtYW5obyA9IGNucGoubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICBsZXQgbnVtZXJvcyA9IGNucGouc3Vic3RyaW5nKDAsdGFtYW5obyk7XG4gICAgICAgICAgICAgICAgbGV0IGRpZ2l0b3MgPSBjbnBqLnN1YnN0cmluZyh0YW1hbmhvKTtcbiAgICAgICAgICAgICAgICBsZXQgc29tYSA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRhbWFuaG8gLSA3O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0YW1hbmhvOyBpID49IDE7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgc29tYSArPSBwYXJzZUludChudW1lcm9zLmNoYXJBdCh0YW1hbmhvIC0gaSkpICogcG9zLS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPCAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gOTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdGFkbyA9IHNvbWEgJSAxMSA8IDIgPyAwIDogMTEgLSBzb21hICUgMTE7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdGFkbyAhPSBwYXJzZUludChkaWdpdG9zLmNoYXJBdCgwKSkpe1xuICAgICAgICAgICAgICAgICAgICBub3RWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRhbWFuaG8gPSB0YW1hbmhvICsgMTtcbiAgICAgICAgICAgICAgICAgICAgbnVtZXJvcyA9IGNucGouc3Vic3RyaW5nKDAsdGFtYW5obyk7XG4gICAgICAgICAgICAgICAgICAgIHNvbWEgPSAwO1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB0YW1hbmhvIC0gNztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRhbWFuaG87IGkgPj0gMTsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb21hICs9IHBhcnNlSW50KG51bWVyb3MuY2hhckF0KHRhbWFuaG8gLSBpKSkgKiBwb3MtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPCAyKSBwb3MgPSA5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdGFkbyA9IHNvbWEgJSAxMSA8IDIgPyAwIDogMTEgLSBzb21hICUgMTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRhZG8gIT0gcGFyc2VJbnQoZGlnaXRvcy5jaGFyQXQoMSkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RWYWxpZCA9IHRydWU7XHRcdFx0XHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFub3RWYWxpZDsgICAgXG4gICAgfVxuXG4gICAgcHVibGljIGlzRW1haWxWYWxpZChlbWFpbDogc3RyaW5nKTogYm9vbGVhbntcbiAgICAgICAgbGV0IHZhbGlkYWRvciA9IC9eKFthLXpBLVowLTlfXFwuXFwtXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87XG4gICAgICAgIHJldHVybiB2YWxpZGFkb3IudGVzdChlbWFpbCk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFZhbGlkYXRpb24oKTsiXX0=